import { Callout, Steps, Step } from "nextra-theme-docs";

# PAMM (PrimaryAMMV1)

The **PAMM (PrimaryAMMV1)** contract is the core component responsible for the primary AMM pricing mechanism in the Gyroscope protocol. This contract implements the key algorithms and logic that determine the asset prices, redemption amounts, and other core functionality required for the protocol's stablecoin issuance and redemption.

The PAMM contract is designed to adhere to the pricing model described in the Gyroscope protocol's whitepaper. It utilizes various mathematical functions and parameters to compute the appropriate prices and redemption amounts, ensuring the stability and proper functioning of the Gyroscope stablecoin.

## Key Responsibilities

The PAMM contract is responsible for the following core functionalities:

- **Pricing Computation**: The PAMM contract is responsible for computing the appropriate prices for the Gyroscope stablecoin based on the current state of the protocol's reserve. This includes calculating the redemption level, reserve value, and total Gyro supply, and then applying the pricing model to determine the stablecoin's value.
- **Minting and Redemption**: The PAMM contract provides the necessary functions for minting and redeeming Gyro tokens. These functions take into account the current state of the protocol and the requested amounts to compute the appropriate output.
- **Parameter Management**: The PAMM contract allows for the management of the system parameters, such as the alpha bar, xu bar, theta bar, and outflow memory. These parameters are critical for the proper functioning of the pricing model and can be updated through governance.

## Pricing Model Implementation

The PAMM contract implements the pricing model described in the Gyroscope protocol's whitepaper. This model is based on a set of mathematical propositions and algorithms that determine the relationship between the redemption level, reserve value, and total Gyro supply.

<Callout type="info">
For a detailed explanation of the pricing model, please refer to the [Gyroscope whitepaper](/resources/whitepaper).
</Callout>

The key aspects of the pricing model implementation in the PAMM contract include:

1. **Computed Parameters**: The contract calculates various derived parameters, such as the thresholds for different regions of the pricing model, using the provided system parameters.
2. **Reserve Computation**: The contract implements the logic to compute the reserve value based on the current state and the requested redemption level.
3. **Region Identification**: The contract determines the current region of the pricing model based on the normalized state of the protocol.
4. **Redemption Amount Calculation**: The contract computes the appropriate redemption amount given the requested Gyro amount and the current reserve state.

## Integration with Other Components

The PAMM contract is designed to seamlessly integrate with other key components of the Gyroscope protocol, such as:

- [IGyroConfig](/igyro-config): The PAMM contract uses the global configuration settings managed by the IGyroConfig contract to access important parameters.
- [IMotherboard](/imotherboard): The PAMM contract is called by the IMotherboard contract during the minting and redemption processes to compute the appropriate amounts.
- [IReserve](/ireserve): The PAMM contract interacts with the IReserve contract to access the current state of the protocol's reserve.
- [ISafetyCheck](/isafety-check): The PAMM contract's functionality is complemented by the ISafetyCheck contract, which ensures the safety of minting and redemption operations.

By integrating with these other components, the PAMM contract can effectively manage the pricing and issuance of the Gyroscope stablecoin while maintaining the overall stability and security of the protocol.

## Governance and Upgradability

The PAMM contract is designed to be upgradable and configurable through the Gyroscope protocol's governance mechanisms. This allows the community to make necessary adjustments to the pricing model, system parameters, and other aspects of the contract as needed.

The contract inherits from the [Governable](/governable) contract, which provides the necessary functionality for managing the contract's governor. This enables authorized parties to update the system parameters, such as the alpha bar, xu bar, theta bar, and outflow memory, through governance proposals and votes.

Additionally, the PAMM contract can be upgraded to newer versions if necessary, ensuring the protocol's ability to adapt to changing market conditions and user needs over time.